System.register("chunks:///_virtual/audio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioData.ts"],(function(t){"use strict";var n,o,i,a,s,e,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,a=t.AudioSource,s=t.Component},function(t){e=t.Constants},function(t){u=t.AudioData}],execute:function(){var c;o._RF.push({},"9194dg4MwRIo4d6a8SsJFgI","audio",void 0);var r=i.ccclass;i.property,t("audio",r("audio")(c=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).audioList=[],n.pianoIndex=0,n}n(o,t);var i=o.prototype;return i.start=function(){this.audioList=this.node.getComponents(a),e.Game.node.on(e.EVENT_CLICK_BLACK,this.playPiano.bind(this),this)},i.playPiano=function(){var t=Number(u.allMusic[this.pianoIndex])-1;console.log(t),this.audioList[t].play(),this.pianoIndex++,this.pianoIndex>=u.allMusic.length&&(this.pianoIndex=0)},i.onDestroy=function(){},i.update=function(t){},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var u,e;return{setters:[function(t){u=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5e5828XWBBIgpKa9ZslksDJ","AudioData",void 0);var n=t("AudioData",function(){function t(){}return u(t,null,[{key:"allMusic",get:function(){return[this.QI_FENG_LE,this.XIAO_XING_XING,this.KA_NONG].join("")}}]),t}());n.QI_FENG_LE="1236565652365656532161216113323212365656523656565321632161163216321611",n.XIAO_XING_XING="115566544332215544332554433211556654433221",n.KA_NONG="534534556712343123345654517161765454545175617171712123671",e._RF.pop()}}}));

System.register("chunks:///_virtual/block.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(t){"use strict";var e,i,c,n,o,s,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,c=t._decorator,n=t.Node,o=t.Component},function(t){s=t.Constants,l=t.BLOCK_TYPE}],execute:function(){var a;i._RF.push({},"cba2cge8A5HFpQaqH8psE+f","block",void 0);var r=c.ccclass;t("block",r("block")(a=function(t){function i(){for(var e,i=arguments.length,c=new Array(i),n=0;n<i;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))||this)._blockType=l.WHITE,e}e(i,t);var c=i.prototype;return c.start=function(){this.node.on(n.EventType.TOUCH_START,this.onClick,this)},c.onClick=function(){if(s.Game.isPlaying()&&s.Game.isTheFrontGroup(this.node.parent.uuid)){var t,e=((t={})[l.BLACK]=this.clickBlack.bind(this),t[l.WHITE]=this.clickWhite.bind(this),t);e[this._blockType]&&e[this._blockType]()}},c.clickBlack=function(){this.setBlockType(l.GRAY),s.Game.node.emit(s.EVENT_CLICK_BLACK,this.node.parent.uuid)},c.clickWhite=function(){this.setBlockType(l.RED),s.Game.gameOver()},c.setBlockType=function(t){this.node.getChildByName(this._blockType).active=!1,this.node.getChildByName(t).active=!0,this._blockType=t},i}(o))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["cc"],(function(t){"use strict";var E;return{setters:[function(t){E=t.cclegacy}],execute:function(){var c,n;t("BLOCK_TYPE",void 0),E._RF.push({},"d6292PaSplDPo4X1Bx0U+0F","constants",void 0),function(t){t[t.READY=1]="READY",t[t.PLAYING=2]="PLAYING",t[t.PAUSE=3]="PAUSE",t[t.OVER=4]="OVER"}(c||(c={})),function(t){t.WHITE="white",t.BLACK="black",t.GRAY="gray",t.RED="red"}(n||(n=t("BLOCK_TYPE",{})));var o=t("Constants",(function(){}));o.Game=void 0,o.BLOCK_WIDTH=187.5,o.BLOCK_HEIGHT=340,o.SPEED=550,o.ACCELERATION=10,o.GAME_STATE=c,o.EVENT_CLICK_BLACK="clickBlack",o.EVENT_GROUP_DESTROY="groupDestroy",E._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./group.ts","./menu.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,u,l,c,p,f,g,h,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,u=t.Prefab,l=t.Label,c=t.instantiate,p=t.director,f=t.Vec3,g=t.Component},function(t){h=t.Constants},function(t){d=t.group},function(t){m=t.menu}],execute:function(){var E,T,v,A,y,b,G,P,_;o._RF.push({},"6f6e1Wj3MdD55L99NYOXKn6","game",void 0);var S=a.ccclass,C=a.property;t("game",(E=S("game"),T=C(s),v=C(u),A=C(l),E((G=e((b=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"panel",G,r(e)),i(e,"group",P,r(e)),i(e,"score",_,r(e)),e.state=h.GAME_STATE.READY,e.speed=h.SPEED,e}n(e,t);var o=e.prototype;return o.start=function(){h.Game=this,console.log("game start"),this.init()},o.init=function(){for(var t=0;t<8;t++)this.generateBlock(-375,667+h.BLOCK_HEIGHT*t);this.node.on(h.EVENT_GROUP_DESTROY,this.generateBlock.bind(this),this),this.gameStart()},o.generateBlock=function(t,e){if(void 0===t&&(t=-375),!e){var n,i=this.panel.children.length;if(i)e=(null==(n=this.panel.children[i-1])?void 0:n.getPosition().clone().y)+h.BLOCK_HEIGHT}var r=c(this.group);r.getComponent(d).init(),r.setPosition(t,e),this.panel.addChild(r)},o.isTheFrontGroup=function(t){var e=this.panel.children.find((function(t){return t.getComponent(d).blackNum>0}));return(null==e?void 0:e.uuid)===t},o.isPlaying=function(){return h.Game.state===h.GAME_STATE.PLAYING},o.gameStart=function(){this.state=h.GAME_STATE.PLAYING},o.gamePause=function(){this.state=h.GAME_STATE.PAUSE},o.gameOver=function(){this.state=h.GAME_STATE.OVER;var t=this.score.string;setTimeout((function(){p.loadScene("menu",(function(e,n){n.getChildByName("menuManagement").getComponent(m).enterOver(t)}))}),500)},o.update=function(t){this.isPlaying()&&(this.panel.translate(new f(0,-t*this.speed)),this.speed+=t*h.ACCELERATION)},e}(g)).prototype,"panel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(b.prototype,"group",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(b.prototype,"score",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/group.ts",["./rollupPluginModLoBabelHelpers.js","cc","./block.ts","./constants.ts"],(function(t){"use strict";var n,o,i,e,c,s,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.Component},function(t){c=t.block},function(t){s=t.BLOCK_TYPE,r=t.Constants}],execute:function(){var a;o._RF.push({},"b1a8b1smJBI+pjsrHZUzMPk","group",void 0);var u=i.ccclass;i.property,t("group",u("group")(a=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).blackNum=0,n}n(o,t);var i=o.prototype;return i.init=function(){this.blackNum++;var t=Math.floor(4*Math.random());this.node.children[t].getComponent(c).setBlockType(s.BLACK),r.Game.node.on(r.EVENT_CLICK_BLACK,this.clickBlack.bind(this),this)},i.clickBlack=function(t){t===this.node.uuid&&this.blackNum--},i.onDestroy=function(){var t;null==(t=r.Game.node)||t.off(r.EVENT_CLICK_BLACK,this.clickBlack.bind(this),this)},i.update=function(t){if(r.Game.isPlaying()){var n=this.node.getWorldPosition().y;n<2*-r.BLOCK_HEIGHT/3&&(this.blackNum>0&&r.Game.gameOver(),n<-r.BLOCK_HEIGHT-50&&(this.node.destroy(),r.Game.node.emit(r.EVENT_GROUP_DESTROY)))}},o}(e))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioData.ts","./constants.ts","./audio.ts","./block.ts","./game.ts","./group.ts","./management.ts","./menu.ts","./score.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/management.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(t){"use strict";var n,e,r,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,a=t.Component},function(t){o=t.Constants}],execute:function(){var c;e._RF.push({},"d20edmILKZA8pgxIuzN7tuY","management",void 0);var s=r.ccclass;r.property,t("management",s("management")(c=function(t){function e(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).state=o.GAME_STATE.READY,n}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},e}(a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/menu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o,a,u,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,c=e.Label,l=e.director,s=e.Component}],execute:function(){var p,f,v,h,m,b,y,d,g,w,z;o._RF.push({},"aaff0KdrhxJvK1wdT3q6QCX","menu",void 0);var T=a.ccclass,_=a.property;e("menu",(p=T("menu"),f=_(u),v=_(u),h=_(u),m=_(c),p((d=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"startBtn",d,i(t)),r(t,"menu",g,i(t)),r(t,"over",w,i(t)),r(t,"score",z,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.startBtn.on(u.EventType.TOUCH_START,this.startGame.bind(this),this)},o.enterMenu=function(){this.menu.active=!0,this.over.active=!1},o.enterOver=function(e){void 0===e&&(e=""),console.log("分数",e),this.menu.active=!1,this.over.active=!0,this.score.string=e},o.startGame=function(){l.loadScene("main")},t}(s)).prototype,"startBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(y.prototype,"menu",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"over",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(y.prototype,"score",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/score.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(t){"use strict";var r,e,n,o,i,s,c,a,u;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,c=t.Label,a=t.Component},function(t){u=t.Constants}],execute:function(){var l,p,f,h,y;i._RF.push({},"82bfaFP81ROLq8UyyDF3hQb","score",void 0);var d=s.ccclass,b=s.property;t("score",(l=d("score"),p=b(c),l((y=r((h=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,n(r,"score",y,o(r)),r}e(r,t);var i=r.prototype;return i.start=function(){u.Game.node.on(u.EVENT_CLICK_BLACK,this.addScore,this)},i.addScore=function(){this.score.string=String(Number(this.score.string)+1)},i.onDestroy=function(){},r}(a)).prototype,"score",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});